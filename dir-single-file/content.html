<html>
<head>
<script type="text/javascript">

    var previous_div;

    function show_div(div_id) {
        var elm = document.getElementById(div_id);
        if (elm != null) {
            if (elm.style.display == "none") {
                if (previous_div != null) {
                    previous_div.style.display = "none";
                }
                elm.style.display = "block";
                previous_div = elm;
            }
        }
    }

</script>
<link rel="stylesheet" href="github-markdown.css">
</head>
<body class="markdown-body">

<h1>Illustrated jq tutorial</h1>

<h2>The concept of pipes</h2>

Unix pipelines were invented in 1973 by <a href="https://en.wikipedia.org/wiki/Douglas_McIlroy">Douglas McIlroy</a> as a novel way of stringing together programs, where the output of one program is the input of the next one; It's a way of creating a new program out of combining basic building blocks, McIlroy describes it by analogy as <a href="https://web.archive.org/web/20040914025332/http://csdev.cas.upm.edu.ph/~pfalcone/compsci/unix/unix-history1.html">'screwing together data streams like a garden hose'</a>. This approach quickly became the UNIX philosophy of programming described by McIlroy as follows: 'Write programs that do one thing and do it well. Write programs to work together. Write programs that handle text streams, because that is a universal interface.' 

Lets say you want to know what are the most common words occurring within a text, the following pipeline will order the words of a text by frequency of usage:

<pre>
<a href="http://man7.org/linux/man-pages/man1/cat.1.html">cat</a> README.md  | <a href="http://man7.org/linux/man-pages/man1/tr.1.html">tr</a> " " "\n" | <a href="http://man7.org/linux/man-pages/man1/tr.1.html">tr</a>  -d '[:punct:]'  | <a href="http://man7.org/linux/man-pages/man1/sort.1.html">sort</a>   | <a href="http://man7.org/linux/man-pages/man1/uniq.1.html">uniq</a>  -c | sort -n -k 1 
</pre>

This example is a bit like functional programming: in each step of the pipeline the output depends only on the input received via the preceding pipe, each step acts on that text input only and produces its output without writing any files, that is without side effects.

<h3>Fast forward to the 21st century</h3>

Parsing of text streams is the Unix way of doing things and it has proven to be very versatile as is, however many application call for the exchange of structured data; There are more and more programs that use json as the format for exchanging structured data, examples are:

<ul>
    <li> kubernetes: the <a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands">kubectl</a> and opeshift <a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.2/html-single/cli_tools/index">oc</a> commands can produce its output in json format (option -o json)
    <li> the  <a href="https://github.com/Juniper/libxo">libxo</a> library is used with a variety of FreeBsd base utilities to produce json output; For example the <a href="https://www.freebsd.org/cgi/man.cgi?ps(1)">ps</a> command can produce json output with the --libxo option. Other converted base utilities of FreeBsd are listed <a href="https://wiki.freebsd.org/LibXo">here</a>
    <li> a project that produces json output for many common Linux base utilities is <a href="https://github.com/kellyjonbrazil/jc">jc</a>
</ul>

<h2>jq  - a tool for manipulating structured data</h2>

<a href="https://stedolan.github.io/jq/manual/">jq</a> is a very versatile tool for working with structured information in json format, the command syntax of jq is also structured by means of a processing pipeline, similar to that of a unix shell, again each processing step acts as a filter/modifier of the input received from the preceding stage. Again on might look at each of these stages as functions in a functional program.

This tutorial tries to explain jq in terms of example pipelines; each example comes with links that show you the intermediate results for each stage of the processing pipeline; i think this makes it easier to understand each of the building blocks involved. You can click either on any one of the commands to show the command and how it transforms the input json structure into the output json, each pipe symbol is also a link that will show you the information that flows through it.

The html for this tutorial is generated by <a href="https://github.com/MoserMichael/jq-illustrated/blob/master/scr.sh">this script</a> 


<h1>The tutorial</h1>



<h2>Get a single scalar values </h2>
<br/>

 cat  <a onclick="show_div('step_0_2.html')" href="javascript:void(0);"  >s1.json  </a>  | jq ' <a onclick="show_div('step_0_3.html')" href="javascript:void(0);"  >.spec.replicas</a> '
</code>
<br/>
<br/>


    <div id="step_0_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat s1.json 
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
    "kind": "Deployment",
    "spec": {
        "replicas": 1
    }
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_0_3.html" style="display:none">
    <!-- <b>jq '.spec.replicas'</b> //-->
    <table>
        <tr>
            <th>
cat data/s1.json  
            </th>
            <th>
cat data/s1.json  | jq '.spec.replicas'
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
    "kind": "Deployment",
    "spec": {
        "replicas": 1
    }
}
    </pre>
            </td>
            <td>
    <pre>
1
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_0_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/s1.json  | jq ".spec.replicas"
            </th>
        </tr>
        <tr>
            <td>
    <pre>
1
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Get a single scalar values (different form, as a pipeline) </h2>
<br/>

 cat  <a onclick="show_div('step_1_2.html')" href="javascript:void(0);"  >s1.json  </a>  | jq ' <a onclick="show_div('step_1_3.html')" href="javascript:void(0);"  >.spec </a> <a onclick="show_div('step_1_4.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_1_5.html')" href="javascript:void(0);"  > .replicas</a> '
</code>
<br/>
<br/>


    <div id="step_1_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat s1.json 
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
    "kind": "Deployment",
    "spec": {
        "replicas": 1
    }
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_1_3.html" style="display:none">
    <!-- <b>jq '.spec '</b> //-->
    <table>
        <tr>
            <th>
cat data/s1.json  
            </th>
            <th>
cat data/s1.json  | jq '.spec '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
    "kind": "Deployment",
    "spec": {
        "replicas": 1
    }
}
    </pre>
            </td>
            <td>
    <pre>
{
  "replicas": 1
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_1_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/s1.json  | jq ".spec "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "replicas": 1
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_1_5.html" style="display:none">
    <!-- <b>jq ' .replicas'</b> //-->
    <table>
        <tr>
            <th>
cat data/s1.json   | jq '.spec '
            </th>
            <th>
cat data/s1.json  | jq '.spec  |  .replicas'
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "replicas": 1
}
    </pre>
            </td>
            <td>
    <pre>
1
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_1_6.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/s1.json  | jq ".spec  |  .replicas"
            </th>
        </tr>
        <tr>
            <td>
    <pre>
1
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Get two scalar values</h2>
<br/>

 cat  <a onclick="show_div('step_2_2.html')" href="javascript:void(0);"  >s1.json  </a>  | jq ' <a onclick="show_div('step_2_3.html')" href="javascript:void(0);"  >.spec.replicas, .kind</a> '
</code>
<br/>
<br/>


    <div id="step_2_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat s1.json 
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
    "kind": "Deployment",
    "spec": {
        "replicas": 1
    }
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_2_3.html" style="display:none">
    <!-- <b>jq '.spec.replicas, .kind'</b> //-->
    <table>
        <tr>
            <th>
cat data/s1.json  
            </th>
            <th>
cat data/s1.json  | jq '.spec.replicas, .kind'
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
    "kind": "Deployment",
    "spec": {
        "replicas": 1
    }
}
    </pre>
            </td>
            <td>
    <pre>
1
"Deployment"
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_2_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/s1.json  | jq ".spec.replicas, .kind"
            </th>
        </tr>
        <tr>
            <td>
    <pre>
1
"Deployment"
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Get two scalar values and concatenate/format them into a single string</h2>
<br/>

 cat  <a onclick="show_div('step_3_2.html')" href="javascript:void(0);"  >s1.json  </a>  | jq ' <a onclick="show_div('step_3_3.html')" href="javascript:void(0);"  >"replicas: " + (.spec.replicas | tostring) + " kind: " + .kind</a> '
</code>
<br/>
<br/>


    <div id="step_3_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat s1.json 
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
    "kind": "Deployment",
    "spec": {
        "replicas": 1
    }
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_3_3.html" style="display:none">
    <!-- <b>jq '"replicas: " + (.spec.replicas | tostring) + " kind: " + .kind'</b> //-->
    <table>
        <tr>
            <th>
cat data/s1.json  
            </th>
            <th>
cat data/s1.json  | jq '"replicas: " + (.spec.replicas | tostring) + " kind: " + .kind'
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
    "kind": "Deployment",
    "spec": {
        "replicas": 1
    }
}
    </pre>
            </td>
            <td>
    <pre>
"replicas: 1 kind: Deployment"
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_3_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/s1.json  | jq ""replicas: " + (.spec.replicas | tostring) + " kind: " + .kind"
            </th>
        </tr>
        <tr>
            <td>
    <pre>
"replicas: 1 kind: Deployment"
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Select an object from an array of object based on one of the names</h2>
<br/>

 cat  <a onclick="show_div('step_4_2.html')" href="javascript:void(0);"  >dep.json  </a>  | jq ' <a onclick="show_div('step_4_3.html')" href="javascript:void(0);"  >.status.conditions </a> <a onclick="show_div('step_4_4.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_4_5.html')" href="javascript:void(0);"  > map(select(.type ==  "Progressing"))</a> '
</code>
<br/>
<br/>


    <div id="step_4_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat dep.json 
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
        "annotations": {
            "deployment.kubernetes.io/revision": "1",
            "machine.openshift.io/owned": ""
        },
        "creationTimestamp": "2020-01-23T03:47:56Z",
        "generation": 1,
        "labels": {
            "api": "clusterapi",
            "k8s-app": "controller"
        },
        "name": "machine-api-controllers",
        "namespace": "openshift-machine-api",
        "resourceVersion": "5089",
        "selfLink": "/apis/apps/v1/namespaces/openshift-machine-api/deployments/machine-api-controllers",
        "uid": "a0e8ba08-37c5-40b0-b006-83a6274d89bd"
    },
    "spec": {
        "progressDeadlineSeconds": 600,
        "replicas": 1,
        "revisionHistoryLimit": 10,
        "selector": {
            "matchLabels": {
                "api": "clusterapi",
                "k8s-app": "controller"
            }
        },
        "strategy": {
            "rollingUpdate": {
                "maxSurge": "25%",
                "maxUnavailable": "25%"
            },
            "type": "RollingUpdate"
        },
        "template": {
            "metadata": {
                "creationTimestamp": null,
                "labels": {
                    "api": "clusterapi",
                    "k8s-app": "controller"
                }
            },
            "spec": {
                "containers": [
                    {
                        "args": [
                            "--logtostderr=true",
                            "--v=3",
                            "--namespace=openshift-machine-api"
                        ],
                        "command": [
                            "/manager"
                        ],
                        "image": "registry.svc.ci.openshift.org/ocp/4.4-2020-01-22-110636@sha256:4ad536231654ffbc590103c7d25bd11dcd4d8dfda645845d762b442b5561242b",
                        "imagePullPolicy": "IfNotPresent",
                        "name": "controller-manager",
                        "resources": {
                            "requests": {
                                "cpu": "10m",
                                "memory": "20Mi"
                            }
                        },
                        "terminationMessagePath": "/dev/termination-log",
                        "terminationMessagePolicy": "File"
                    },
                    {
                        "args": [
                            "--logtostderr=true",
                            "--v=3",
                            "--namespace=openshift-machine-api"
                        ],
                        "command": [
                            "/machine-controller-manager"
                        ],
                        "env": [
                            {
                                "name": "NODE_NAME",
                                "valueFrom": {
                                    "fieldRef": {
                                        "apiVersion": "v1",
                                        "fieldPath": "spec.nodeName"
                                    }
                                }
                            }
                        ],
                        "image": "registry.svc.ci.openshift.org/ocp/4.4-2020-01-22-110636@sha256:4ad536231654ffbc590103c7d25bd11dcd4d8dfda645845d762b442b5561242b",
                        "imagePullPolicy": "IfNotPresent",
                        "name": "machine-controller",
                        "resources": {
                            "requests": {
                                "cpu": "10m",
                                "memory": "20Mi"
                            }
                        },
                        "terminationMessagePath": "/dev/termination-log",
                        "terminationMessagePolicy": "File"
                    },
                    {
                        "args": [
                            "--logtostderr=true",
                            "--v=3",
                            "--namespace=openshift-machine-api"
                        ],
                        "command": [
                            "/nodelink-controller"
                        ],
                        "image": "registry.svc.ci.openshift.org/ocp/4.4-2020-01-22-110636@sha256:215d0dd0af4c72fdde0b492d8988a0bd9265ba155d590551a9841e877062d490",
                        "imagePullPolicy": "IfNotPresent",
                        "name": "nodelink-controller",
                        "resources": {
                            "requests": {
                                "cpu": "10m",
                                "memory": "20Mi"
                            }
                        },
                        "terminationMessagePath": "/dev/termination-log",
                        "terminationMessagePolicy": "File"
                    },
                    {
                        "args": [
                            "--logtostderr=true",
                            "--v=3",
                            "--namespace=openshift-machine-api"
                        ],
                        "command": [
                            "/machine-healthcheck"
                        ],
                        "image": "registry.svc.ci.openshift.org/ocp/4.4-2020-01-22-110636@sha256:215d0dd0af4c72fdde0b492d8988a0bd9265ba155d590551a9841e877062d490",
                        "imagePullPolicy": "IfNotPresent",
                        "name": "machine-healthcheck-controller",
                        "resources": {
                            "requests": {
                                "cpu": "10m",
                                "memory": "20Mi"
                            }
                        },
                        "terminationMessagePath": "/dev/termination-log",
                        "terminationMessagePolicy": "File"
                    }
                ],
                "dnsPolicy": "ClusterFirst",
                "nodeSelector": {
                    "node-role.kubernetes.io/master": ""
                },
                "priorityClassName": "system-node-critical",
                "restartPolicy": "Always",
                "schedulerName": "default-scheduler",
                "securityContext": {
                    "runAsNonRoot": true,
                    "runAsUser": 65534
                },
                "serviceAccount": "machine-api-controllers",
                "serviceAccountName": "machine-api-controllers",
                "terminationGracePeriodSeconds": 30,
                "tolerations": [
                    {
                        "effect": "NoSchedule",
                        "key": "node-role.kubernetes.io/master"
                    },
                    {
                        "key": "CriticalAddonsOnly",
                        "operator": "Exists"
                    },
                    {
                        "effect": "NoExecute",
                        "key": "node.kubernetes.io/not-ready",
                        "operator": "Exists",
                        "tolerationSeconds": 120
                    },
                    {
                        "effect": "NoExecute",
                        "key": "node.kubernetes.io/unreachable",
                        "operator": "Exists",
                        "tolerationSeconds": 120
                    }
                ]
            }
        }
    },
    "status": {
        "availableReplicas": 1,
        "conditions": [
            {
                "lastTransitionTime": "2020-01-23T03:48:23Z",
                "lastUpdateTime": "2020-01-23T03:48:23Z",
                "message": "Deployment has minimum availability.",
                "reason": "MinimumReplicasAvailable",
                "status": "True",
                "type": "Available"
            },
            {
                "lastTransitionTime": "2020-01-23T03:47:56Z",
                "lastUpdateTime": "2020-01-23T03:48:23Z",
                "message": "ReplicaSet \"machine-api-controllers-5f4ddff7f4\" has successfully progressed.",
                "reason": "NewReplicaSetAvailable",
                "status": "True",
                "type": "Progressing"
            }
        ],
        "observedGeneration": 1,
        "readyReplicas": 1,
        "replicas": 1,
        "updatedReplicas": 1
    }
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_4_3.html" style="display:none">
    <!-- <b>jq '.status.conditions '</b> //-->
    <table>
        <tr>
            <th>
cat data/dep.json  
            </th>
            <th>
cat data/dep.json  | jq '.status.conditions '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
        "annotations": {
            "deployment.kubernetes.io/revision": "1",
            "machine.openshift.io/owned": ""
        },
        "creationTimestamp": "2020-01-23T03:47:56Z",
        "generation": 1,
        "labels": {
            "api": "clusterapi",
            "k8s-app": "controller"
        },
        "name": "machine-api-controllers",
        "namespace": "openshift-machine-api",
        "resourceVersion": "5089",
        "selfLink": "/apis/apps/v1/namespaces/openshift-machine-api/deployments/machine-api-controllers",
        "uid": "a0e8ba08-37c5-40b0-b006-83a6274d89bd"
    },
    "spec": {
        "progressDeadlineSeconds": 600,
        "replicas": 1,
        "revisionHistoryLimit": 10,
        "selector": {
            "matchLabels": {
                "api": "clusterapi",
                "k8s-app": "controller"
            }
        },
        "strategy": {
            "rollingUpdate": {
                "maxSurge": "25%",
                "maxUnavailable": "25%"
            },
            "type": "RollingUpdate"
        },
        "template": {
            "metadata": {
                "creationTimestamp": null,
                "labels": {
                    "api": "clusterapi",
                    "k8s-app": "controller"
                }
            },
            "spec": {
                "containers": [
                    {
                        "args": [
                            "--logtostderr=true",
                            "--v=3",
                            "--namespace=openshift-machine-api"
                        ],
                        "command": [
                            "/manager"
                        ],
                        "image": "registry.svc.ci.openshift.org/ocp/4.4-2020-01-22-110636@sha256:4ad536231654ffbc590103c7d25bd11dcd4d8dfda645845d762b442b5561242b",
                        "imagePullPolicy": "IfNotPresent",
                        "name": "controller-manager",
                        "resources": {
                            "requests": {
                                "cpu": "10m",
                                "memory": "20Mi"
                            }
                        },
                        "terminationMessagePath": "/dev/termination-log",
                        "terminationMessagePolicy": "File"
                    },
                    {
                        "args": [
                            "--logtostderr=true",
                            "--v=3",
                            "--namespace=openshift-machine-api"
                        ],
                        "command": [
                            "/machine-controller-manager"
                        ],
                        "env": [
                            {
                                "name": "NODE_NAME",
                                "valueFrom": {
                                    "fieldRef": {
                                        "apiVersion": "v1",
                                        "fieldPath": "spec.nodeName"
                                    }
                                }
                            }
                        ],
                        "image": "registry.svc.ci.openshift.org/ocp/4.4-2020-01-22-110636@sha256:4ad536231654ffbc590103c7d25bd11dcd4d8dfda645845d762b442b5561242b",
                        "imagePullPolicy": "IfNotPresent",
                        "name": "machine-controller",
                        "resources": {
                            "requests": {
                                "cpu": "10m",
                                "memory": "20Mi"
                            }
                        },
                        "terminationMessagePath": "/dev/termination-log",
                        "terminationMessagePolicy": "File"
                    },
                    {
                        "args": [
                            "--logtostderr=true",
                            "--v=3",
                            "--namespace=openshift-machine-api"
                        ],
                        "command": [
                            "/nodelink-controller"
                        ],
                        "image": "registry.svc.ci.openshift.org/ocp/4.4-2020-01-22-110636@sha256:215d0dd0af4c72fdde0b492d8988a0bd9265ba155d590551a9841e877062d490",
                        "imagePullPolicy": "IfNotPresent",
                        "name": "nodelink-controller",
                        "resources": {
                            "requests": {
                                "cpu": "10m",
                                "memory": "20Mi"
                            }
                        },
                        "terminationMessagePath": "/dev/termination-log",
                        "terminationMessagePolicy": "File"
                    },
                    {
                        "args": [
                            "--logtostderr=true",
                            "--v=3",
                            "--namespace=openshift-machine-api"
                        ],
                        "command": [
                            "/machine-healthcheck"
                        ],
                        "image": "registry.svc.ci.openshift.org/ocp/4.4-2020-01-22-110636@sha256:215d0dd0af4c72fdde0b492d8988a0bd9265ba155d590551a9841e877062d490",
                        "imagePullPolicy": "IfNotPresent",
                        "name": "machine-healthcheck-controller",
                        "resources": {
                            "requests": {
                                "cpu": "10m",
                                "memory": "20Mi"
                            }
                        },
                        "terminationMessagePath": "/dev/termination-log",
                        "terminationMessagePolicy": "File"
                    }
                ],
                "dnsPolicy": "ClusterFirst",
                "nodeSelector": {
                    "node-role.kubernetes.io/master": ""
                },
                "priorityClassName": "system-node-critical",
                "restartPolicy": "Always",
                "schedulerName": "default-scheduler",
                "securityContext": {
                    "runAsNonRoot": true,
                    "runAsUser": 65534
                },
                "serviceAccount": "machine-api-controllers",
                "serviceAccountName": "machine-api-controllers",
                "terminationGracePeriodSeconds": 30,
                "tolerations": [
                    {
                        "effect": "NoSchedule",
                        "key": "node-role.kubernetes.io/master"
                    },
                    {
                        "key": "CriticalAddonsOnly",
                        "operator": "Exists"
                    },
                    {
                        "effect": "NoExecute",
                        "key": "node.kubernetes.io/not-ready",
                        "operator": "Exists",
                        "tolerationSeconds": 120
                    },
                    {
                        "effect": "NoExecute",
                        "key": "node.kubernetes.io/unreachable",
                        "operator": "Exists",
                        "tolerationSeconds": 120
                    }
                ]
            }
        }
    },
    "status": {
        "availableReplicas": 1,
        "conditions": [
            {
                "lastTransitionTime": "2020-01-23T03:48:23Z",
                "lastUpdateTime": "2020-01-23T03:48:23Z",
                "message": "Deployment has minimum availability.",
                "reason": "MinimumReplicasAvailable",
                "status": "True",
                "type": "Available"
            },
            {
                "lastTransitionTime": "2020-01-23T03:47:56Z",
                "lastUpdateTime": "2020-01-23T03:48:23Z",
                "message": "ReplicaSet \"machine-api-controllers-5f4ddff7f4\" has successfully progressed.",
                "reason": "NewReplicaSetAvailable",
                "status": "True",
                "type": "Progressing"
            }
        ],
        "observedGeneration": 1,
        "readyReplicas": 1,
        "replicas": 1,
        "updatedReplicas": 1
    }
}
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "lastTransitionTime": "2020-01-23T03:48:23Z",
    "lastUpdateTime": "2020-01-23T03:48:23Z",
    "message": "Deployment has minimum availability.",
    "reason": "MinimumReplicasAvailable",
    "status": "True",
    "type": "Available"
  },
  {
    "lastTransitionTime": "2020-01-23T03:47:56Z",
    "lastUpdateTime": "2020-01-23T03:48:23Z",
    "message": "ReplicaSet \"machine-api-controllers-5f4ddff7f4\" has successfully progressed.",
    "reason": "NewReplicaSetAvailable",
    "status": "True",
    "type": "Progressing"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_4_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/dep.json  | jq ".status.conditions "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "lastTransitionTime": "2020-01-23T03:48:23Z",
    "lastUpdateTime": "2020-01-23T03:48:23Z",
    "message": "Deployment has minimum availability.",
    "reason": "MinimumReplicasAvailable",
    "status": "True",
    "type": "Available"
  },
  {
    "lastTransitionTime": "2020-01-23T03:47:56Z",
    "lastUpdateTime": "2020-01-23T03:48:23Z",
    "message": "ReplicaSet \"machine-api-controllers-5f4ddff7f4\" has successfully progressed.",
    "reason": "NewReplicaSetAvailable",
    "status": "True",
    "type": "Progressing"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_4_5.html" style="display:none">
    <!-- <b>jq ' map(select(.type ==  "Progressing"))'</b> //-->
    <table>
        <tr>
            <th>
cat data/dep.json   | jq '.status.conditions '
            </th>
            <th>
cat data/dep.json  | jq '.status.conditions  |  map(select(.type ==  "Progressing"))'
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "lastTransitionTime": "2020-01-23T03:48:23Z",
    "lastUpdateTime": "2020-01-23T03:48:23Z",
    "message": "Deployment has minimum availability.",
    "reason": "MinimumReplicasAvailable",
    "status": "True",
    "type": "Available"
  },
  {
    "lastTransitionTime": "2020-01-23T03:47:56Z",
    "lastUpdateTime": "2020-01-23T03:48:23Z",
    "message": "ReplicaSet \"machine-api-controllers-5f4ddff7f4\" has successfully progressed.",
    "reason": "NewReplicaSetAvailable",
    "status": "True",
    "type": "Progressing"
  }
]
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "lastTransitionTime": "2020-01-23T03:47:56Z",
    "lastUpdateTime": "2020-01-23T03:48:23Z",
    "message": "ReplicaSet \"machine-api-controllers-5f4ddff7f4\" has successfully progressed.",
    "reason": "NewReplicaSetAvailable",
    "status": "True",
    "type": "Progressing"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_4_6.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/dep.json  | jq ".status.conditions  |  map(select(.type ==  "Progressing"))"
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "lastTransitionTime": "2020-01-23T03:47:56Z",
    "lastUpdateTime": "2020-01-23T03:48:23Z",
    "message": "ReplicaSet \"machine-api-controllers-5f4ddff7f4\" has successfully progressed.",
    "reason": "NewReplicaSetAvailable",
    "status": "True",
    "type": "Progressing"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Select a single key value pair from a json object</h2>
<br/>

 cat  <a onclick="show_div('step_5_2.html')" href="javascript:void(0);"  >ann.json </a>  | jq ' <a onclick="show_div('step_5_3.html')" href="javascript:void(0);"  >.metadata.annotations </a> <a onclick="show_div('step_5_4.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_5_5.html')" href="javascript:void(0);"  > to_entries </a> <a onclick="show_div('step_5_6.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_5_7.html')" href="javascript:void(0);"  > map(select(.key == "label1")) </a> <a onclick="show_div('step_5_8.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_5_9.html')" href="javascript:void(0);"  > from_entries</a> '
</code>
<br/>
<br/>


    <div id="step_5_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat ann.json
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_5_3.html" style="display:none">
    <!-- <b>jq '.metadata.annotations '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json 
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_5_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_5_5.html" style="display:none">
    <!-- <b>jq ' to_entries '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_5_6.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_5_7.html" style="display:none">
    <!-- <b>jq ' map(select(.key == "label1")) '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations  |  to_entries '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries  |  map(select(.key == "label1")) '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_5_8.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries  |  map(select(.key == "label1")) "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_5_9.html" style="display:none">
    <!-- <b>jq ' from_entries'</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations  |  to_entries  |  map(select(.key == "label1")) '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries  |  map(select(.key == "label1"))  |  from_entries'
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  }
]
    </pre>
            </td>
            <td>
    <pre>
{
  "label1": "stam"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_5_10.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries  |  map(select(.key == "label1"))  |  from_entries"
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "label1": "stam"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Select a single key value pair from a json object - short form</h2>
<br/>

 cat  <a onclick="show_div('step_6_2.html')" href="javascript:void(0);"  >ann.json </a>  | jq ' <a onclick="show_div('step_6_3.html')" href="javascript:void(0);"  >.metadata.annotations </a> <a onclick="show_div('step_6_4.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_6_5.html')" href="javascript:void(0);"  > with_entries(select(.key == "label1"))</a> '
</code>
<br/>
<br/>


    <div id="step_6_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat ann.json
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_6_3.html" style="display:none">
    <!-- <b>jq '.metadata.annotations '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json 
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_6_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_6_5.html" style="display:none">
    <!-- <b>jq ' with_entries(select(.key == "label1"))'</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  with_entries(select(.key == "label1"))'
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
            <td>
    <pre>
{
  "label1": "stam"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_6_6.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  with_entries(select(.key == "label1"))"
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "label1": "stam"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Select two key value pairs from a json object</h2>
<br/>

 cat  <a onclick="show_div('step_7_2.html')" href="javascript:void(0);"  >ann.json </a>  | jq ' <a onclick="show_div('step_7_3.html')" href="javascript:void(0);"  >.metadata.annotations </a> <a onclick="show_div('step_7_4.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_7_5.html')" href="javascript:void(0);"  > to_entries </a> <a onclick="show_div('step_7_6.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_7_7.html')" href="javascript:void(0);"  > map(select(.key == "label1" or .key == "label2")) </a> <a onclick="show_div('step_7_8.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_7_9.html')" href="javascript:void(0);"  > from_entries</a> '
</code>
<br/>
<br/>


    <div id="step_7_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat ann.json
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_7_3.html" style="display:none">
    <!-- <b>jq '.metadata.annotations '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json 
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_7_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_7_5.html" style="display:none">
    <!-- <b>jq ' to_entries '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_7_6.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_7_7.html" style="display:none">
    <!-- <b>jq ' map(select(.key == "label1" or .key == "label2")) '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations  |  to_entries '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries  |  map(select(.key == "label1" or .key == "label2")) '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_7_8.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries  |  map(select(.key == "label1" or .key == "label2")) "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_7_9.html" style="display:none">
    <!-- <b>jq ' from_entries'</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations  |  to_entries  |  map(select(.key == "label1" or .key == "label2")) '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries  |  map(select(.key == "label1" or .key == "label2"))  |  from_entries'
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  }
]
    </pre>
            </td>
            <td>
    <pre>
{
  "label1": "stam",
  "label2": "another"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_7_10.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries  |  map(select(.key == "label1" or .key == "label2"))  |  from_entries"
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "label1": "stam",
  "label2": "another"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Select two key value pairs from a json object (second version)</h2>
<br/>

 cat  <a onclick="show_div('step_8_2.html')" href="javascript:void(0);"  >ann.json </a>  | jq ' <a onclick="show_div('step_8_3.html')" href="javascript:void(0);"  >.metadata.annotations </a> <a onclick="show_div('step_8_4.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_8_5.html')" href="javascript:void(0);"  > to_entries </a> <a onclick="show_div('step_8_6.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_8_7.html')" href="javascript:void(0);"  > map(select(.key == ("label1", "label2"))) </a> <a onclick="show_div('step_8_8.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_8_9.html')" href="javascript:void(0);"  > from_entries </a> '
</code>
<br/>
<br/>


    <div id="step_8_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat ann.json
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_8_3.html" style="display:none">
    <!-- <b>jq '.metadata.annotations '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json 
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_8_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_8_5.html" style="display:none">
    <!-- <b>jq ' to_entries '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_8_6.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_8_7.html" style="display:none">
    <!-- <b>jq ' map(select(.key == ("label1", "label2"))) '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations  |  to_entries '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries  |  map(select(.key == ("label1", "label2"))) '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_8_8.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries  |  map(select(.key == ("label1", "label2"))) "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_8_9.html" style="display:none">
    <!-- <b>jq ' from_entries '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations  |  to_entries  |  map(select(.key == ("label1", "label2"))) '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries  |  map(select(.key == ("label1", "label2")))  |  from_entries '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  }
]
    </pre>
            </td>
            <td>
    <pre>
{
  "label1": "stam",
  "label2": "another"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_8_10.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries  |  map(select(.key == ("label1", "label2")))  |  from_entries "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "label1": "stam",
  "label2": "another"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Select all key value pairs from a json object where the name contains substring "label"</h2>
<br/>

 cat  <a onclick="show_div('step_9_2.html')" href="javascript:void(0);"  >ann.json </a>  | jq ' <a onclick="show_div('step_9_3.html')" href="javascript:void(0);"  >.metadata.annotations </a> <a onclick="show_div('step_9_4.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_9_5.html')" href="javascript:void(0);"  > to_entries </a> <a onclick="show_div('step_9_6.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_9_7.html')" href="javascript:void(0);"  > map(select(.key | contains("label"))) </a> <a onclick="show_div('step_9_8.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_9_9.html')" href="javascript:void(0);"  > from_entries</a> '
</code>
<br/>
<br/>


    <div id="step_9_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat ann.json
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_9_3.html" style="display:none">
    <!-- <b>jq '.metadata.annotations '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json 
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_9_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_9_5.html" style="display:none">
    <!-- <b>jq ' to_entries '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_9_6.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_9_7.html" style="display:none">
    <!-- <b>jq ' map(select(.key | contains("label"))) '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations  |  to_entries '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries  |  map(select(.key | contains("label"))) '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_9_8.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries  |  map(select(.key | contains("label"))) "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_9_9.html" style="display:none">
    <!-- <b>jq ' from_entries'</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations  |  to_entries  |  map(select(.key | contains("label"))) '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries  |  map(select(.key | contains("label")))  |  from_entries'
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
            <td>
    <pre>
{
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_9_10.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries  |  map(select(.key | contains("label")))  |  from_entries"
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Select all key value pairs from a json object where the name matches the regular expression label[1-9]</h2>
<br/>

 cat  <a onclick="show_div('step_10_2.html')" href="javascript:void(0);"  >ann.json </a>  | jq ' <a onclick="show_div('step_10_3.html')" href="javascript:void(0);"  > .metadata.annotations </a> <a onclick="show_div('step_10_4.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_10_5.html')" href="javascript:void(0);"  > to_entries </a> <a onclick="show_div('step_10_6.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_10_7.html')" href="javascript:void(0);"  > map(select(.key | test("label[1-9]"))) </a> <a onclick="show_div('step_10_8.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_10_9.html')" href="javascript:void(0);"  > from_entries </a> '
</code>
<br/>
<br/>


    <div id="step_10_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat ann.json
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_10_3.html" style="display:none">
    <!-- <b>jq ' .metadata.annotations '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json 
            </th>
            <th>
cat data/ann.json | jq ' .metadata.annotations '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_10_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq " .metadata.annotations "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_10_5.html" style="display:none">
    <!-- <b>jq ' to_entries '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq ' .metadata.annotations '
            </th>
            <th>
cat data/ann.json | jq ' .metadata.annotations  |  to_entries '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_10_6.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq " .metadata.annotations  |  to_entries "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_10_7.html" style="display:none">
    <!-- <b>jq ' map(select(.key | test("label[1-9]"))) '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq ' .metadata.annotations  |  to_entries '
            </th>
            <th>
cat data/ann.json | jq ' .metadata.annotations  |  to_entries  |  map(select(.key | test("label[1-9]"))) '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_10_8.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq " .metadata.annotations  |  to_entries  |  map(select(.key | test("label[1-9]"))) "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_10_9.html" style="display:none">
    <!-- <b>jq ' from_entries '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq ' .metadata.annotations  |  to_entries  |  map(select(.key | test("label[1-9]"))) '
            </th>
            <th>
cat data/ann.json | jq ' .metadata.annotations  |  to_entries  |  map(select(.key | test("label[1-9]")))  |  from_entries '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
            <td>
    <pre>
{
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_10_10.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq " .metadata.annotations  |  to_entries  |  map(select(.key | test("label[1-9]")))  |  from_entries "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Select all key value pairs from a json object where the name contains substring "label" (short form)</h2>
<br/>

 cat  <a onclick="show_div('step_11_2.html')" href="javascript:void(0);"  >ann.json </a>  | jq ' <a onclick="show_div('step_11_3.html')" href="javascript:void(0);"  >.metadata.annotations </a> <a onclick="show_div('step_11_4.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_11_5.html')" href="javascript:void(0);"  > with_entries(select(.key | contains("label")))</a> '
</code>
<br/>
<br/>


    <div id="step_11_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat ann.json
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_11_3.html" style="display:none">
    <!-- <b>jq '.metadata.annotations '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json 
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_11_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_11_5.html" style="display:none">
    <!-- <b>jq ' with_entries(select(.key | contains("label")))'</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  with_entries(select(.key | contains("label")))'
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
            <td>
    <pre>
{
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_11_6.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  with_entries(select(.key | contains("label")))"
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Add another key value pair to a json object</h2>
<br/>

 cat  <a onclick="show_div('step_12_2.html')" href="javascript:void(0);"  >ann.json </a>  | jq ' <a onclick="show_div('step_12_3.html')" href="javascript:void(0);"  >.metadata.annotations  += { "label4" : "two" }</a> '
</code>
<br/>
<br/>


    <div id="step_12_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat ann.json
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_12_3.html" style="display:none">
    <!-- <b>jq '.metadata.annotations  += { "label4" : "two" }'</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json 
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  += { "label4" : "two" }'
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1": "stam",
      "label2": "another",
      "label3": "one",
      "label4": "two"
    }
  }
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_12_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  += { "label4" : "two" }"
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1": "stam",
      "label2": "another",
      "label3": "one",
      "label4": "two"
    }
  }
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Set all values in a json object</h2>
<br/>

 cat  <a onclick="show_div('step_13_2.html')" href="javascript:void(0);"  >ann.json </a>  | jq ' <a onclick="show_div('step_13_3.html')" href="javascript:void(0);"  >.metadata.annotations </a> <a onclick="show_div('step_13_4.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_13_5.html')" href="javascript:void(0);"  > to_entries </a> <a onclick="show_div('step_13_6.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_13_7.html')" href="javascript:void(0);"  > map_values(.value="override-value") </a> <a onclick="show_div('step_13_8.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_13_9.html')" href="javascript:void(0);"  > from_entries</a> '
</code>
<br/>
<br/>


    <div id="step_13_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat ann.json
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_13_3.html" style="display:none">
    <!-- <b>jq '.metadata.annotations '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json 
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_13_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_13_5.html" style="display:none">
    <!-- <b>jq ' to_entries '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_13_6.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_13_7.html" style="display:none">
    <!-- <b>jq ' map_values(.value="override-value") '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations  |  to_entries '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries  |  map_values(.value="override-value") '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "override-value"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": "override-value"
  },
  {
    "key": "label1",
    "value": "override-value"
  },
  {
    "key": "label2",
    "value": "override-value"
  },
  {
    "key": "label3",
    "value": "override-value"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_13_8.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries  |  map_values(.value="override-value") "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "override-value"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": "override-value"
  },
  {
    "key": "label1",
    "value": "override-value"
  },
  {
    "key": "label2",
    "value": "override-value"
  },
  {
    "key": "label3",
    "value": "override-value"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_13_9.html" style="display:none">
    <!-- <b>jq ' from_entries'</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations  |  to_entries  |  map_values(.value="override-value") '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries  |  map_values(.value="override-value")  |  from_entries'
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "override-value"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": "override-value"
  },
  {
    "key": "label1",
    "value": "override-value"
  },
  {
    "key": "label2",
    "value": "override-value"
  },
  {
    "key": "label3",
    "value": "override-value"
  }
]
    </pre>
            </td>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "override-value",
  "machine.openshift.io/owned": "override-value",
  "label1": "override-value",
  "label2": "override-value",
  "label3": "override-value"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_13_10.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries  |  map_values(.value="override-value")  |  from_entries"
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "override-value",
  "machine.openshift.io/owned": "override-value",
  "label1": "override-value",
  "label2": "override-value",
  "label3": "override-value"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
<h2>Set all values of subset of keys in a json object</h2>
<br/>


    <div id="step_14_2.html" style="display:none">
    <table>
        <tr>
            <th>
cat ann.json
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_14_3.html" style="display:none">
    <!-- <b>jq '.metadata.annotations '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json 
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "metadata": {
    "annotations": {
      "deployment.kubernetes.io/revision": "1",
      "machine.openshift.io/owned": "",
      "label1" : "stam",
      "label2" : "another",
      "label3" : "one"
    }
  }
}
  
    </pre>
            </td>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_14_4.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_14_5.html" style="display:none">
    <!-- <b>jq ' to_entries '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "stam",
  "label2": "another",
  "label3": "one"
}
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_14_6.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_14_7.html" style="display:none">
    <!-- <b>jq ' map(if .key  | contains("label") then .value="kuku" else .  end) '</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations  |  to_entries '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries  |  map(if .key  | contains("label") then .value="kuku" else .  end) '
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "stam"
  },
  {
    "key": "label2",
    "value": "another"
  },
  {
    "key": "label3",
    "value": "one"
  }
]
    </pre>
            </td>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "kuku"
  },
  {
    "key": "label2",
    "value": "kuku"
  },
  {
    "key": "label3",
    "value": "kuku"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_14_8.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries  |  map(if .key  | contains("label") then .value="kuku" else .  end) "
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "kuku"
  },
  {
    "key": "label2",
    "value": "kuku"
  },
  {
    "key": "label3",
    "value": "kuku"
  }
]
    </pre>
            </td>
        </tr>
    </table>
    </div>

    <div id="step_14_9.html" style="display:none">
    <!-- <b>jq ' from_entries'</b> //-->
    <table>
        <tr>
            <th>
cat data/ann.json  | jq '.metadata.annotations  |  to_entries  |  map(if .key  | contains("label") then .value="kuku" else .  end) '
            </th>
            <th>
cat data/ann.json | jq '.metadata.annotations  |  to_entries  |  map(if .key  | contains("label") then .value="kuku" else .  end)  |  from_entries'
            </th>
        </tr>
        <tr>
            <td>
    <pre>
[
  {
    "key": "deployment.kubernetes.io/revision",
    "value": "1"
  },
  {
    "key": "machine.openshift.io/owned",
    "value": ""
  },
  {
    "key": "label1",
    "value": "kuku"
  },
  {
    "key": "label2",
    "value": "kuku"
  },
  {
    "key": "label3",
    "value": "kuku"
  }
]
    </pre>
            </td>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "kuku",
  "label2": "kuku",
  "label3": "kuku"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
    <div id="step_14_10.html" style="display:none">
    <table>
        <tr>
            <th>
cat data/ann.json | jq ".metadata.annotations  |  to_entries  |  map(if .key  | contains("label") then .value="kuku" else .  end)  |  from_entries"
            </th>
        </tr>
        <tr>
            <td>
    <pre>
{
  "deployment.kubernetes.io/revision": "1",
  "machine.openshift.io/owned": "",
  "label1": "kuku",
  "label2": "kuku",
  "label3": "kuku"
}
    </pre>
            </td>
        </tr>
    </table>
    </div>
 cat  <a onclick="show_div('step_14_2.html')" href="javascript:void(0);"  >ann.json </a>  | jq ' <a onclick="show_div('step_14_3.html')" href="javascript:void(0);"  >.metadata.annotations </a> <a onclick="show_div('step_14_4.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_14_5.html')" href="javascript:void(0);"  > to_entries </a> <a onclick="show_div('step_14_6.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_14_7.html')" href="javascript:void(0);"  > map(if .key  | contains("label") then .value="kuku" else .  end) </a> <a onclick="show_div('step_14_8.html')" href="javascript:void(0);"  > | </a> <a onclick="show_div('step_14_9.html')" href="javascript:void(0);"  > from_entries</a> '
